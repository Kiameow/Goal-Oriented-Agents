{{!
  getNextAction.hbs
  Variables: 
    commonset
    surrounding
    agentName
    goal
    memos
    plan
    role
    clocktime
}}
---
{{ commonset }}

{{ agentName }}'s goal is {{ goal }}, who assumes the role of {{ role }}, and currently {{ plan }}

related memories:
{{ memos }}
---
Right now is {{clocktime}}. {{ agentName }} {{ surrounding }} based on the task at hand, and the current situation, output whether {{ agentName }} will converse or not. If the current task can be finished without conversational interaction, then agent will probably not converse.
If {{ agentName }} is going to converse, output whom to converse with and what to talk about in json format like this: <##FLAG##>{"will_converse": true, "converse_with": ["agent_name", "agent_name"], "topic": "topic_to_talk_about"}<##FLAG##>
else output "<##FLAG##>{"will_converse": false}<##FLAG##>"